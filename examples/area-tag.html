<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
  <style>
    .doctor-img {
      width: 100%;
    }

  </style>
</head>

<body>
  <div class="doctor-box">
    <img class='doctor-img' src="http://7xp9vw.com1.z0.glb.clouddn.com/T1FyK4B4xT1RCvBVdK.png" alt="" usemap="#doctor-img-button-map">
  </div>
  <map name="doctor-img-button-map" id='doctor-img-button-map'>
    <area shape="rect" coords="" alt="consult" href="//github.com">
  </map>

  <script>
    var $ = function $(selector) {
      return document.querySelector(selector);
    }

    const natural = {
      width: 726,
      height: 482,
      button: {
        width: 204,
        height: 68,
        widthPercent: '',
        heightPercent: '',
        right: 40,
        bottom: 42,
        rightPercent: '',
        bottomPercent: ''
      }
    };

    function getAreaCoords(origin, dest) {
      const wp = dest.width / origin.width;
      const hp = dest.height / origin.height;
      const rp = dest.right / origin.width;
      const bp = dest.bottom / origin.height;
      const destClientWidth = origin.clientWidth * wp;
      const destClientHeight = origin.clientHeight * hp;
      const destRight = origin.clientWidth * rp;
      const destBottom = origin.clientHeight * bp;
      const x1 = origin.clientWidth - destClientWidth - destRight;
      const y1 = origin.clientHeight - destClientHeight - destBottom;
      const x2 = x1 + destClientWidth;
      const y2 = y1 + destClientHeight;
      return [x1, y1, x2, y2].join(',');
    }

    function setAreaCoords(originEl, destEl) {
      const coords = getAreaCoords({
        width: 726,
        height: 482,
        clientWidth: originEl.clientWidth,
        clientHeight: originEl.clientHeight
      }, {
        width: 204,
        height: 68,
        right: 40,
        bottom: 42
      });
      destEl.coords = coords;
    }

    window.onload = function () {
      const $img = $('.doctor-img');
      const $consultArea = $('area[alt="consult"]');

      setAreaCoords($img, $consultArea);
      window.addEventListener('resize', function () {
        console.log('resize');
        setAreaCoords($img, $consultArea);
      }, false);
      $consultArea.addEventListener('click', function (e) {
        console.log(e);
      }, false);
    }

  </script>
</body>

</html>
